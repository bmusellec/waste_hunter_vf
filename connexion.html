<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Waste Hunter - Connexion</title>
<link rel="stylesheet" href="style_connexion.css">
</head>
<body>
<div class="container">
    <div class="wave-decoration"></div>
    
    <h1 class="title">Waste Hunter</h1>
    
    <div class="login-box">
        <h2>Connectez-vous à votre compte</h2>
        
        <form id="loginForm">
            <div class="form-group">
                <label for="username">Nom d'utilisateur</label>
                <input type="text" id="username" name="username" required>
            </div>
            
            <div class="form-group">
                <label for="password">Mot de passe</label>
                <input type="password" id="password" name="password" required>
            </div>

            <p id="loginError" class="error-message"></p>

            <button type="submit" class="btn-login">SE CONNECTER</button>
        </form>
        
        <p class="signup-link">
            VOUS N'AVEZ PAS DE COMPTE ? <a href="inscription.html">CRÉEZ-EN UN !</a>
        </p>
    </div>
</div>

<script>
const loginForm = document.getElementById('loginForm');
const loginError = document.getElementById('loginError');

loginForm.addEventListener('submit', function(e){
    e.preventDefault();

    const username = document.getElementById('username').value.trim();
    const password = document.getElementById('password').value;

    loginError.textContent = "";

    const users = JSON.parse(localStorage.getItem('users') || '[]');
    const user = users.find(u => u.username === username);

    if(!user || user.password !== password){
        loginError.textContent = "Nom d'utilisateur ou mot de passe incorrect.";
        return;
    }

    // Connexion réussie
    localStorage.setItem('currentUser', username);
    window.location.href = "quizz.html";
});
</script>
</body>
</html>
